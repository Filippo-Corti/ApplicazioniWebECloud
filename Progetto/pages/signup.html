<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PGRC | Registration </title>
  <link rel="icon" href="../assets/img/favicon.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="../assets/css/my-colors.css">
  <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body class="overflow-x-hidden min-vh-100 d-flex flex-column" data-font="fancy">

  <!-- Background Stripes -->
  <div class="background-stripe">
  </div>

  <!-- Background Grid-->
  <div class="background-grid">
    <div class="d-none background-grid-col"></div>
    <div class="d-none background-grid-row"></div>
  </div>

  <!-- Header -->
  <header>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg" aria-label="Offcanvas navbar large">
      <div class="container-xxl pt-4 pt-md-5 px-3">
        <!-- Logo -->
        <div>
          <a class="logo | d-flex align-items-baseline gap-1" href="../index.html">
            <img class="tint-primary" src="../assets/img/chef.png" alt="PGRC Logo">
            <h1 class="h-0 text-primary">PGRC</h1>
          </a>
        </div>
        <!-- Mobile Menu Button-->
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header justify-content-end px-5 mt-3 pb-0">
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body justify-content-end">
            <ul class="navbar-nav align-items-center gap-2">
              <li class="nav-item logged-out-only">
                <h5 class="text-center border-top border-bottom py-4 d-lg-none">
                  SIGN UP for more functionalities!
                </h5>
              </li>
              <li class="nav-item logged-out-only">
                <button class="btn btn-primary fs-4" data-bs-toggle="modal" data-bs-target="#loginModal">
                  LOG IN
                </button>
              </li>
              <li class="nav-item logged-in-only">
                <a href="../pages/profile.html">
                  <button class="btn btn-outline-secondary fs-4 d-flex align-items-center gap-2 py-2">
                    <!-- Username & Picture -->
                    <p class="username card-text bg-transparent mb-0">Username</p>
                    <div class="bg-primary rounded-5 w-fit">
                      <img src="../assets/img/anon.png" alt="Profile Picture">
                    </div>
                  </button>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Sign Up Card -->
  <section class="container container-xs my-5 p-4 p-md-5 bg-white rounded-5 mx-auto shadow">
    <!-- Sign Up Title -->
    <div class="position-relative row text-center align-items-center justify-content-center mx-3">
      <div class="line | bg-primary col rounded-5 d-none d-md-block"></div>
      <div class="col">
        <h2 class="mb-0">SIGN UP</h2>
        <p id="form-step-count" class="text-secondary m-0">Step 1 of 2</p>
      </div>
      <div class="line | col rounded-5 d-none d-md-block"></div>
    </div>
    <!-- Sign Up Form -->
    <form class="m-lg-3 overflow-x-hidden" method="GET" action="../index.html" onsubmit="return registerNewUser(this)">
      <div class="form-content | d-flex">
        <!-- Step 1 -->
        <div class="col-12">
          <div class="d-flex flex-column mt-4">
            <label class="fs-5 text-dark" for="email">Email</label>
            <input class="form-control rounded-2 p-2 border-2" type="email" name="email" id="email"
              autocomplete="username" required>
            <div class="invalid-feedback">Your Email is either incorrect or already taken</div>
          </div>
          <div class="d-flex flex-column my-3">
            <label class="fs-5 text-dark" for="username">Username</label>
            <input class="form-control rounded-2 p-2 border-2" type="text" name="username" id="username"
              pattern=".{3,}">
            <div class="invalid-feedback">Your Username should be at least 3 characters long</div>
          </div>
          <div class="d-flex flex-column my-3 position-relative">
            <label class="fs-5 text-dark" for="password">Password</label>
            <img style="cursor: pointer;" class="position-absolute top-0 end-0" src="../assets/img/view.png"
              alt="Show Password" width="25" onclick="toggleShowPassword()">
            <p class="text-secondary fs-6 mb-2 line-height-sm">Password must be at least 8 characters long and include a
              letter, a
              number and a special character (@, $, !, %, *, #, ? or &).</p>
            <input class="toggle-visibility | form-control rounded-2 p-2 border-2" type="password" name="password"
              autocomplete="new-password" id="password" pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&]).{8,}$"
              required>
            <div class="invalid-feedback">Your Password doesn't match requirements</div>
          </div>
          <div class="d-flex flex-column my-3">
            <label class="fs-5 text-dark" for="password_confirm">Confirm Password</label>
            <input class="toggle-visibility | form-control rounded-2 p-2 border-2" type="password" id="password_confirm"
              autocomplete="new-password" required>
            <div class="invalid-feedback">Your Passwords are different</div>
          </div>
          <div class="d-flex flex-row-reverse justify-content-center align-items-center gap-2 text-secondary mt-5">
            <label class="line-height-sm" style="max-width: 17ch">I agree with <span class="text-decoration-underline"
                style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#conditionsModal">Terms and
                Conditions</span></label>
            <input class="form-check-input" style="width: 40px; height: 40px;" type="checkbox" id="accept_conditions"
              required>
          </div>
          <div class="my-3 pt-4 px-2">
            <button class="btn btn-primary w-100 fs-5" role="continue"
              onclick="event.preventDefault(); validateAndContinueForm()">Continue</button>
            <p class="text-secondary text-center fs-6 mt-3">Fields marked with * are required</p>
          </div>
        </div>
        <!-- Step 2 -->
        <div class="col-12 d-flex flex-column">
          <div class="d-md-flex mt-3 mb-1">
            <label class="fs-4" for="favourite_color" class="form-label">Choose a color for your avatar:</label>
            <input type="color" class="ms-md-3 form-control form-control-color border-2 mx-auto mx-md-0" id="favourite_color" name="color" value="#EF4C01"
              title="Choose your color">
          </div>
          <div class="d-flex flex-column my-3">
            <div class="position-relative d-flex flex-column">
              <label class="fs-4" for="preferences">Tell us about what you like:</label>
              <input class="rounded-2 p-2" type="text" id="preferences" oninput="searchTags(this.value)">
              <div class="position-absolute opacity-50" style="top: 58%; right: 3%; cursor: pointer;"
                onclick="this.previousElementSibling.value=''; searchTags(this.previousElementSibling.value)"><img
                  src="../assets/img/close.png" width="13" alt="Empty field"></div>
            </div>
            <div class="m-3 overflow-hidden" style="max-height: 400px">
              <div class="custom-scrollbar overflow-y-auto overflow-x-hidden d-flex flex-column gap-2"
                style="max-height: 100%;">
                <div id="preferences_area_container" class="row gap-2 mx-3">
                </div>
                <div id="preferences_category_container" class="row gap-2 mx-3">
                </div>
                <div id="preferences_ingredient_container" class="row gap-2 mx-3">
                </div>
              </div>
            </div>
          </div>
          <div class="my-3 pt-4 mt-auto px-2">
            <div class="d-flex gap-3">
              <button role="back" class="btn btn-outline-secondary w-25 fs-5"
                onclick="event.preventDefault(); goBack()">Go Back</button>
              <button type="submit" class="btn btn-primary w-75 fs-5">Register</button>
            </div>
            <p class="text-secondary text-center fs-6 mt-3">Fields marked with * are required</p>
          </div>
        </div>
      </div>
    </form>
  </section>

  <!-- Footer -->
  <footer class="border-top border-black border-opacity-25">
    <div class="container-xxl d-flex flex-column flex-md-row py-5 mx-auto px-3 px-md-5 justify-content-between">
      <!-- Logo -->
      <div>
        <a class="logo | d-flex align-items-baseline gap-1" href="index.html">
          <img class="tint-primary" src="../assets/img/chef.png" alt="PGRC Logo">
          <h1 class="h-0 text-primary">PGRC</h1>
        </a>
      </div>
      <!-- Demo Buttons -->
      <div>
        <ul
          class="list-group list-unstyled list-group-horizontal-md justify-content-center align-items-center d-flex gap-2 mt-2 mt-md-0">
          <li>
            <button class="switch-font | btn btn-light border border-black border-2 fs-4 px-3 py-1 rounded-4"
              onclick="switchFonts()" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Switch Font">
              Aa
            </button>
          </li>
          <li>
            <button class="btn btn-outline-secondary fs-4" onclick="clearStorage(); location.reload();">
              Reset Data
            </button>
          </li>
          <li>
            <button class="btn btn-outline-secondary fs-4" onclick="loadDemoData();">
              Load Demo Data
            </button>
          </li>
        </ul>
      </div>
    </div>
    </div>
  </footer>

  <!-- Modals -->

  <!-- Login Modal -->
  <modal class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="Modal For Login" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content p-3 rounded-5">
        <div class="modal-header border-0 row align-items-baseline">
          <div class="line | col-3 bg-primary rounded-5 ms-1 d-none d-md-block"></div>
          <h1 class="col-md-3 modal-title fs-4 text-center" id="exampleModalLabel">LOG IN</h1>
          <div class="line | col bg-primary rounded-5 me-3 d-none d-md-block"></div>
          <button type="button" class="col-1 btn-close mb-auto" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body py-1">
          <div class="invalid-credentials | d-none text-center text-danger fs-6 mt-2">
            <p>Credentials are wrong! Try again</p>
          </div>
          <form method="GET" action="../index.html" onsubmit="return checkCredentialsAndLogin(this)">
            <div class="col-12">
              <div class="d-flex flex-column mt-2">
                <label class="fs-5 text-dark" for="login_email">Email</label>
                <input class="form-control rounded-2 p-2 border-2" type="email" name="email" id="login_email"
                  autocomplete="username" required>
              </div>
              <div class="d-flex flex-column my-3 position-relative">
                <label class="fs-5 text-dark" for="login_password">Password</label>
                <img style="cursor: pointer;" class="position-absolute top-0 end-0" src="../assets/img/view.png"
                  alt="Show Password" width="25" onclick="toggleShowPassword()">
                <input class="toggle-visibility | form-control rounded-2 p-2 border-2" type="password" name="password"
                  id="login_password" autocomplete="current-password" required>
              </div>
              <button type="submit" class="w-100 btn btn-primary fs-5 mt-4 mb-2">Log In</button>
            </div>
          </form>
        </div>
        <div class="modal-footer d-block border-0 text-center pt-0">
          <p class="text-secondary mt-0 pt-0">Don't have an account? <a class="text-decoration-underline"
              href="signup.html">Register
              here</a></p>
        </div>
      </div>
    </div>
  </modal>

  <!-- Terms and Conditions Modal -->
  <modal class="modal fade" id="conditionsModal" tabindex="-1" aria-labelledby="Modal For Terms and Conditions"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content p-3 rounded-5">
        <div class="modal-header border-0 row align-items-baseline">
          <div class="line | col-1 bg-primary rounded-5 ms-1 d-none d-md-block"></div>
          <h1 class="col-md-8 modal-title fs-4 text-center" id="exampleModalLabel">Terms and Conditions</h1>
          <div class="line | col bg-primary rounded-5 me-3 d-none d-md-block"></div>
          <button type="button" class="col-1 btn-close mb-auto" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body py-1">
          <p class="font-flat fs-5 mb-0">
            PGRC is a free-to-use platform with no commercial purpose: <br>
          <ul class="font-flat fs-5">
            <li>
              All Meals’ Data is available at <a target="_blank" class="text-decoration-underline"
                href="https://www.themealdb.com">www.themealdb.com/</a>.
            </li>
            <li>
              All Personal Data is collected with the sole purpose of improving the user experience and will not be
              sold, shared or used anywhere outside of PGRC’s domain. <br>
              The User is at any point free to delete their account. All reviews written by a deleted User on PGRC will
              display as "Anonymous" and will be kept for statistical purposes only. Recreating the account using the
              same email will allow the User to view and delete their old reviews.
            </li>
          </ul>
          </p>
          <button data-bs-dismiss="modal" aria-label="Close" class="w-100 btn btn-primary fs-5 mt-4 mb-2">Got
            it</button>
        </div>
      </div>
    </div>
  </modal>

  <!-- Templates-->

  <template id="preferences_area_tag">
    <span class="tag tag-area | btn btn-outline-success fs-5 d-flex align-items-center gap-2"
      onclick="toggleState(this)">
      <input data-template-type="attribute" data-template-attribute="value" data-template-value="name" class="d-none"
        type="checkbox" name="preferences_area" value="Area">
      <span data-template-type="content" data-template-value="name">Area</span>
      <img class="d-none" width="12" src="../assets/img/close-white.png" alt="Deselect Tag">
    </span>
  </template>

  <template id="preferences_category_tag">
    <span class="tag tag-category | btn btn-outline-info fs-5 d-flex align-items-center gap-2"
      onclick="toggleState(this)">
      <input data-template-type="attribute" data-template-attribute="value" data-template-value="name" class="d-none"
        type="checkbox" name="preferences_category" value="Category">
      <span data-template-type="content" data-template-value="name">Category</span>
      <img class="d-none" width="12" src="../assets/img/close.png" alt="Deselect Tag">
    </span>
  </template>

  <template id="preferences_ingredient_tag">
    <span class="tag tag-ingredient | btn btn-outline-danger fs-5 d-flex align-items-center gap-2"
      onclick="toggleState(this)">
      <input data-template-type="attribute" data-template-attribute="value" data-template-value="name" class="d-none"
        type="checkbox" name="preferences_ingredient" value="Ingredient">
      <span data-template-type="content" data-template-value="name">Ingredient</span>
      <img class="d-none" width="12" src="../assets/img/close-white.png" alt="Deselect Tag">
    </span>
  </template>


  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
  <script src="../assets/js/api.js"></script>
  <script src="../assets/js/storage.js"></script>
  <script src="../assets/js/form-control.js"></script>
  <script src="../assets/js/utils.js"></script>
  <script src="../assets/js/test-data.js"></script>
</body>

</html>